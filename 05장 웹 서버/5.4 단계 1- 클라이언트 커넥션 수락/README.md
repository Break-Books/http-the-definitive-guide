# 5.4 단계 1 - 클라이언트 커넥션 수락

## 새로운 요청 핸들링

클라이언트는 웹 서버에게 TCP connection을 요청한다.

웹 서버는 이때 어떤 클라이언트인지 IP를 추출해서 확인한다.

커넥션이 만들어지면 서버는 커넥션 리스트에 새 커넥션을 추가하고, 데이터가 오는 것을 기다린다.

웹 서버 언제든지 커넥션을 끊어버릴 수 있다.

- 허용되지 않은 IP이거나
- malicious client이거나

이런 경우에 끊어버린다.

## 클라이언트 호스트이름

대부분의 웹 서버버 *reverse DNS*를 이용해서 클라이언트 IP를 호스트 이름으로 변환시킬 수 있다.

이 호스트 이름을 통해서 좀 더 상세한 access control과 로깅을 할 수 있다.

호스트 이름 lookup은 좀 많은 시간이 걸릴 수 있다.

## Client 유저를 ident를 통해 알아내기

IETF ident 프로토콜이 있는데 어떤 웹 서버는 이를 지원한다.

클라이언트가 ident 프로토콜을 지원하면, 클라이언트를 113 포트를 통해 ident request를 듣는다.

> chatGPT:
80년대 90년대에 IRC같은 곳에서 주로 사용되었고 현재는 별로 사용하지 않는다.
