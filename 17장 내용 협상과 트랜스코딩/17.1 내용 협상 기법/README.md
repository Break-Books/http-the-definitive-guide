 # 17장 내용 협상과 트랜스 코딩
 - 서버는 클라이언트가 요청했을 때 어떤 적절한 버전을 제공할 지에 대한 방법
## 17.1 내용 협상 기법
- 서버에 있는 페이지 중 어떤 것이 클라이언트에게 맞는지 판단하는 방법
  1. 클라이언트 주도
  2. 서버 주도
  3. 투명
 
## 17.2 클라이언트 주도 협상
- 서버가 클라이언트의 요청을 받았을 때 가능한 페이지의 목록을 응답으로 돌려주어 클라이언트가 보고 싶은 것을 선택하는 것.
### 장점
  1. 구현하기 쉬움
  2. 선택권
### 단점
  1. 대기시간이 증가 - 각 페이지에 두 번의 요청이 필요함(한 번은 목록을 얻고 두 번째는 선택한 사본을 얻어야한다.)
  2. 여러 개의 URL을 요구한다.
    - 링크에 대한 설명 페이지, 300 응답코드 리턴
## 17.3 서버 주도 협상
  - 서버가 어떤 페이지를 리턴해 줄 것인지 결정.
  - 클라이언트는 자신의 무엇을 선호하는지 알려야함
    1. 내용 협상 헤더들을 본다. 서버는 클라이언트의 Accept 관련 헤더들을 보고 그에 알맞는 응답 헤더를 준비한다.
    2. 내용 협상 이외 헤더를 본다. 
## 17.3.1 내용 협상 헤더
 - Accept 헤더를 통해 적절한 페이지를 제공해준다.
   1. Accept : 미디어 타입
   2. Accept-Language : 언어
   3. Accept-Charset : 차셋
   4. Accept-Encoding : 어떤 인코딩
 - 클라이언트는 자신의 선호 정보를 매 요청마다 보내야 하며 서버가 이에 대한 적절한 페이지를 제공해준다.
 - 여러 선호에 대한 설명을 품질값을 이하여 전달할 수 있다.
## 17.3.2 내용 협상 헤더의 품질 값 
 - Accept-Language: en;q=0.5 fr;q=0.0 nl;q=1.0, tr;q=0.0
 - q값은 0.0 ~ 1.0까지의 값을 가질 수 있다.
 - nl(네덜란드어)로 요청하고 en(영어)로 된 문서라도 응답가능 하며 fr(프랑스어), tr(터키어)는 원하지 않음.
## 17.3.3 그 외의 헤더들에 의해 결정
 - 서버는 또한 User-Agent와 같은 클라이언트의 다른 요청 헤더들을 이용해 알맞은 요청을 만들어 내려고 시도한다.
## 17.3.4 아파치의 내용 협상
 - 컨텐츠 제공자에 의해 색인 페이지를 여러 가지 방법으로 제공 하려고 할 때 방법.
### type-map 파일 
 - 아파치 서버는 영어로 요청한 클라이언트에게는 joes-hardware.en.html 파일 제공
 - 프랑스어로 요청한 클라이언트에게는 joes-heardware.fr.de.html 파일을 보낸다.
 - 품질값도 지원된다.
### MultiViews 사용
